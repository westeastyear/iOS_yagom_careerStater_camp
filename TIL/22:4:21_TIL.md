# TIL (Today I Learned)
4월 21일 (목)

# 동시성 프로그래밍

**“멀티스레드 환경에서 여러 가지 작업을 동시에 처리하는 기술”**

## 코어
> CPU에서 실제로 일을 처리하는 핵심이며, 빠르고 효율적인 코어는 성능이 좋은 컴퓨터의 필요조건입니다. 
>
> 코어는 **한 번에 한 가지**일만 처리합니다.
>
> 일을 짧은 단위로 나누어서 번갈아가며 처리를 하는데, 이것은 **한 번에 만드는 것처럼** 보입니다.
>
> - **코어가 많아지면 무조건 더 빠른가?**
>     - 코어가 여러개일 경우 일을 분배해야 합니다. 이를 분배하는 과정에서 약간의 딜레이가 발생하여 싱글 코어보다 작업속도가 느린 경우가 있을 수 있습니다.
>    - 싱글 코어에만 최적화가 된 소프트웨어가 있을 수 있습니다.

## 스레드
### 하드웨어에서의 스레드
> - 하이퍼스레딩 기술을 이용하여 하나의 코어로 2가지 작업을 동시에 수행할 수 있도록 하는 논리적인 `‘코어’`라고 할 수 있습니다.
> - 1코어 2스레드라면 실제로 코어는 1개이지만 `코어가 2개인 것처럼` 작업을 처리하게 됩니다.

### 소트트웨어에서의 스레드(주목🙋🏻‍♂️)
> `논리적인 ‘스레드’`로 프로세스(프로그램) 내부에서의 작업 단위가 되는 **가상의 스레드**입니다. 
> 스레드란 프로그램의 작업을 처리하는 녀석들을 말합니다.

## 병렬 프로그래밍
> `여러 개의 CPU(코어)가 하나의 작업(Task)을 분담해서` 처리하는 것입니다.
>
> 많은 연산이 필요한 그래픽 처리나 머신러닝에서는 병렬 프로그래밍이 적극적으로 사용되곤 합니다.
> 
>`물리적인 개념`으로 **CPU(코어)가 여러 개 있을 때에 가능**합니다. 싱글 코어에서는 병렬 프로그래밍을 할 수 가 없습니다. 병렬 프로그래밍은 `실제로 동시에` 작업을 처리하는 것이기 때문입니다.

## 동시성 프로그래밍
> 하나의 CPU가 여러 작업을 동시에 처리하는 것입니다.
> 동시성은 병렬과 달리 싱글 코어에서도 가능한 `논리적인 개념`입니다.
> 동시성 프로그래밍은 `여러 개의 스레드를 이용하여 동시에 여러 작업을 처리`합니다. 
> 여러 작업을 나열해두고 하나씩, 조금씩 번갈아 가면서 작업을 처리하는데 그 속도가 매우 빨라서 동시에 작업을 처리하는 것처럼 보여집니다.
>
>>⁉️ **직렬성(Serial) 프로그래밍**
>동시성 프로그래밍과 **반대**되는 개념입니다. 
>`단 하나의 스레드`에서만 작업을 합니다. 동시에 작업을 처리하지 못하고, 순서대로 작업을 처리해야 합니다.

### 동기(Synchronous)
> 설계가 매우 간단하고 직관적이지만, **결과가 주어질 때까지 아무것도 못하고 대기해야 하는 단점**이 있습니다.

### 비동기(Asynchronous)
> 동기보다 복잡하지만, **결과가 주어지는데 시간이 걸리더라도 그 시간 동안 다른 작업을 할 수 있으므로 자원을 효율적으로 사용할 수 있는 장점**이 있습니다. 
>> ⁉️ `동시성`과 `비동기`가 헷갈린다면?!
> 동시성**: `Serial`이냐, `Concurrent`인가는 스레드가 단일 스레드인가, 다중 스레드인가의 구분
> **동기/비동기**: 스레드의 수와는 무관하게 작업이 끝나기를 기다리냐, 기다리지 않느냐의 구분



